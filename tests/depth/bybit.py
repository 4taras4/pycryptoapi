import asyncio

from pycryptoapi import BybitClient


async def main() -> None:
    cl = await BybitClient.create()

    r = await cl.depth("BTCUSDT", 10)

    import pprint

    pprint.pp(r)

    await cl.close()


if __name__ == '__main__':
    asyncio.run(main())


'''
bybit:
{'retCode': 0,
 'retMsg': 'OK',
 'result': {'s': 'BTCUSDT',
            'a': [['118150.1', '1.279063'],
                  ['118150.5', '0.026744'],
                  ['118150.6', '0.037994'],
                  ['118150.7', '0.016927'],
                  ['118150.9', '0.008459'],
                  ['118151.2', '0.004884'],
                  ['118152.2', '0.01'],
                  ['118152.4', '0.004884'],
                  ['118152.8', '0.002'],
                  ['118153.6', '0.004796']],
            'b': [['118150', '0.967297'],
                  ['118149.8', '0.001'],
                  ['118148.2', '0.006'],
                  ['118147.7', '0.080997'],
                  ['118147.3', '0.064392'],
                  ['118147', '0.114204'],
                  ['118146.3', '0.015213'],
                  ['118146.2', '0.001362'],
                  ['118145.8', '0.002'],
                  ['118144.5', '0.03']],
            'ts': 1753001183475,
            'u': 3927965,
            'seq': 80253938856,
            'cts': 1753001183471},
 'retExtInfo': {},
 'time': 1753001183656}
 
binance:
{'lastUpdateId': 73133296262,
 'bids': [['118147.54000000', '0.60618000'],
          ['118147.53000000', '0.07533000'],
          ['118147.50000000', '0.00608000'],
          ['118147.36000000', '0.00005000'],
          ['118147.00000000', '0.00008000'],
          ['118146.67000000', '0.00008000'],
          ['118146.64000000', '0.00017000'],
          ['118146.30000000', '0.00169000'],
          ['118146.21000000', '0.00017000'],
          ['118146.03000000', '0.00010000']],
 'asks': [['118147.55000000', '7.70316000'],
          ['118147.60000000', '0.00009000'],
          ['118147.61000000', '0.00010000'],
          ['118147.62000000', '0.02564000'],
          ['118147.63000000', '0.00010000'],
          ['118147.64000000', '0.27941000'],
          ['118148.59000000', '0.00010000'],
          ['118148.60000000', '0.03463000'],
          ['118148.61000000', '0.00017000'],
          ['118148.73000000', '0.01610000']]}

mexc:
{'lastUpdateId': 42927618042,
 'bids': [['118169.68', '12.89355000'],
          ['118169.60', '0.17660700'],
          ['118169.50', '7.90675165'],
          ['118169.42', '0.72719981'],
          ['118169.32', '0.81223753'],
          ['118169.25', '0.17528079'],
          ['118169.07', '0.73333635'],
          ['118168.91', '0.17527576'],
          ['118168.73', '0.78601472'],
          ['118168.69', '0.77514798']],
 'asks': [['118169.69', '0.18404395'],
          ['118169.87', '0.76346414'],
          ['118170.45', '0.17510821'],
          ['118170.63', '0.75822022'],
          ['118170.77', '0.19453142'],
          ['118170.78', '0.17661371'],
          ['118170.88', '0.20283081'],
          ['118170.95', '0.76480034'],
          ['118170.96', '0.78422108'],
          ['118171.06', '0.70130258']],
 'timestamp': 1753001219021}
 
okx:
{'code': '0',
 'msg': '',
 'data': [{'asks': [['118194', '0.89266241', '0', '13'],
                    ['118194.8', '0.02721215', '0', '1'],
                    ['118195', '0.00165266', '0', '1'],
                    ['118196', '0.07221288', '0', '2'],
                    ['118197', '0.02486791', '0', '1'],
                    ['118197.3', '0.00676131', '0', '1'],
                    ['118197.4', '0.00001', '0', '1'],
                    ['118198.8', '0.0010124', '0', '1'],
                    ['118199', '0.134201', '0', '1'],
                    ['118199.7', '0.002', '0', '1']],
           'bids': [['118193.9', '0.28315407', '0', '9'],
                    ['118192.4', '0.04903213', '0', '2'],
                    ['118192', '0.0719', '0', '1'],
                    ['118191.9', '0.02565628', '0', '1'],
                    ['118190', '0.0719', '0', '1'],
                    ['118188.9', '0.0256289', '0', '1'],
                    ['118188.1', '0.00001', '0', '1'],
                    ['118188', '0.07221288', '0', '2'],
                    ['118187.4', '0.0076146', '0', '1'],
                    ['118187.1', '0.002538', '0', '1']],
           'ts': '1753001230753'}]}
           
bitget:
{'code': '00000',
 'msg': 'success',
 'requestTime': 1753001249703,
 'data': {'asks': [['118175.51', '0.98718300'],
                   ['118175.52', '0.0001'],
                   ['118175.53', '0.0001'],
                   ['118175.54', '0.0001'],
                   ['118176.7', '0.428308'],
                   ['118181.38', '0.10467'],
                   ['118182', '0.004440'],
                   ['118184.33', '0.006000'],
                   ['118185.3', '0.006000'],
                   ['118187.28', '0.074591']],
          'bids': [['118175.5', '1.26137900'],
                   ['118174', '0.001447'],
                   ['118173', '0.000023'],
                   ['118172', '0.000023'],
                   ['118171', '0.000023'],
                   ['118170', '0.000023'],
                   ['118169', '0.000023'],
                   ['118168', '0.000023'],
                   ['118167.61', '0.00362'],
                   ['118167.6', '0.006000']],
          'ts': '1753001249703'}}
          
gate:
{'current': 1753001314176,
 'update': 1753001314126,
 'asks': [['118232.4', '0.47389'],
          ['118233.6', '0.025644'],
          ['118238.2', '0.008'],
          ['118238.3', '0.006958'],
          ['118239.5', '0.000845'],
          ['118240.9', '0.000845'],
          ['118242.4', '0.117718'],
          ['118242.6', '0.001057'],
          ['118244.8', '0.123751'],
          ['118245.1', '0.032493']],
 'bids': [['118232.3', '0.837459'],
          ['118230', '0.008'],
          ['118229.9', '0.003659'],
          ['118229.5', '0.006716'],
          ['118229', '0.084982'],
          ['118221.9', '0.000778'],
          ['118221.8', '0.008458'],
          ['118220.5', '0.000845'],
          ['118218.3', '1.056894'],
          ['118216.8', '0.000832']]}


'''